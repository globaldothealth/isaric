{
  "name": "isaric-rapid",
  "description": "ISARIC RAPID study",
  "tables": {
    "study": {
      "kind": "constant"
    },
    "subject": {
      "kind": "groupBy",
      "groupBy": "subject_id",
      "aggregation": "lastNotNull"
    },
    "visit": {
      "kind": "groupBy",
      "groupBy": "visit_id",
      "aggregation": "lastNotNull"
    }
  },
  "#defs": {
    "Y/N/NK": {
      "values": {
        "1": true,
        "2": false,
        "3": null
      }
    },
    "ethnicityMap": {
      "values": {
        "1": "White",
        "2": "Arab",
        "3": "Black",
        "4": "East_Asian",
        "5": "South_Asian",
        "6": "West_Asian",
        "7": "Latin_American",
        "8": null,
        "9": null
      }
    }
  },
  "study": {
    "id": "isaric-rapid",
    "country_iso3": "GBR"
  },
  "subject": {
    "sex_at_birth": {
      "field": "sex",
      "values": {
        "1": "male",
        "2": "female",
        "3": "non_binary"
      },
      "description": "Sex at Birth"
    },
    "subject_id": {
      "field": "ï»¿subjid",
      "sensitive": true,
      "description": "Participant Identification Number (PIN)"
    },
    "study_id": "isaric-rapid",
    "country_iso3": "GBR",
    "enrolment_date": {
      "field": "dsstdat",
      "description": "Date of Enrolment"
    },
    "admission_date": {
      "field": "hostdat",
      "description": "Admission date at this facility"
    },
    "ethnicity": {
      "description": "Ethnicity",
      "combinedType": "firstNonNull",
      "fields": [
        {
          "field": "flw_ethnicity",
          "#ref": "ethnicityMap"
        },
        {
          "field": "flw2_ethnicity",
          "#ref": "ethnicityMap"
        },
        {
          "field": "flw_ethnicity_oth",
          "description": "Other ethnicity"
        },
        {
          "field": "flw2_ethnicity_oth",
          "description": "Other ethnicity"
        }
      ]
    },
    "works_microbiology_lab": {
      "field": "labwork_erterm",
      "#ref": "Y/N/NK",
      "description": "Employed in a microbiology laboratory?"
    },
    "works_healthcare": {
      "field": "healthwork_erterm",
      "#ref": "Y/N/NK",
      "description": "Employed as a healthcare worker?"
    },
    "age": {
      "combinedType": "firstNonNull",
      "fields": [
        {
          "field": "brthdtc",
          "apply": "yearsElapsed"
        },
        {
          "field": "age",
          "source_unit": {
            "field": "ageu",
            "values": {
              "1": "months",
              "2": "years"
            },
            "unit": "years"
          }
        }
      ],
      "description": "Age/Estimated age"
    },
    "pathogen": "COVID-19",
    "pregnancy": {
      "field": "pregyn_rptestcd",
      "values": {
        "1": true,
        "0": false,
        "998": null
      },
      "description": "Pregnant ?"
    },
    "pregnancy_date_of_delivery": {
      "field": "apdm_brthdat",
      "description": "Delivery date"
    },
    "pregnancy_birth_weight_kg": {
      "field": "apvs_weight_vsorres",
      "source_unit": "grams",
      "unit": "kg",
      "description": "Birth weight"
    },
    "pregnancy_outcome": {
      "field": "still_ceoccur",
      "values": {
        "1": "Still birth",
        "2": "Live birth",
        "3": null
      }
    },
    "pregnancy_whether_breastfed": {
      "field": "apsc_brfedind",
      "#ref": "Y/N/NK",
      "description": "Breastfed"
    },
    "pregnancy_gestational_assessment_weeks": {
      "field": "apsc_egestage_scorres",
      "description": "Gestational weeks assessment"
    },
    "has_hiv": {
      "field": "hiv_mborres",
      "values": {
        "1": true,
        "0": false,
        "3": null
      },
      "description": "AIDS/HIV"
    },
    "has_hypertension": {
      "field": "hypertension_mhyn",
      "#ref": "Y/N/NK",
      "description": "Hypertension (physician diagnosed)"
    },
    "has_malignant_neoplasm": {
      "field": "malignantneo_mhyn",
      "#ref": "Y/N/NK",
      "description": "Malignant neoplasm"
    },
    "has_smoking": {
      "field": "smoking_mhyn",
      "#ref": "Y/N/NK",
      "description": "History of smoking"
    },
    "has_asthma": {
      "field": "asthma_mhyn",
      "#ref": "Y/N/NK",
      "description": "Asthma (physician diagnosed)"
    },
    "has_chronic_cardiac_disease": {
      "field": "chroniccard_mhyn",
      "#ref": "Y/N/NK",
      "description": "Chronic cardiac disease, including congenital heart disease (not hypertension)"
    },
    "has_chronic_kidney_disease": {
      "field": "renal_mhyn",
      "#ref": "Y/N/NK",
      "description": "Chronic kidney disease"
    },
    "has_asplenia": {
      "field": "asplenia_mhyn",
      "#ref": "Y/N/NK",
      "description": "Asplenia"
    },
    "has_tuberculosis": {
      "field": "tb_mhyn",
      "#ref": "Y/N/NK",
      "description": "Tuberculosis"
    },
    "has_died": {
      "field": "dsterm",
      "values": {
        "1": false,
        "2": false,
        "3": false,
        "4": true,
        "5": false,
        "6": null
      },
      "description": "Death occurred"
    },
    "has_liver_disease": {
      "field": "liver_mhyn",
      "#ref": "Y/N/NK",
      "description": "Liver disease"
    },
    "date_death": {
      "field": "flw_date_death",
      "description": "Date of death"
    },
    "outcome": {
      "field": "dsterm",
      "values": {
        "1": "Discharged alive",
        "2": "Hospitalisation",
        "3": "Transfer to other facility",
        "4": "Death",
        "5": "Palliative discharge",
        "6": null
      }
    },
    "date_outcome": {
      "field": "dsstdtc",
      "description": "Outcome date"
    }
  },
  "visit": {}
}