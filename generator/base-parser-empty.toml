#:schema ../schemas/dev/parser.schema.json

[adtl]
  name = ""
  description = ""

  [adtl.tables]
    study = { kind = "constant" }
    subject = { kind = "groupBy", groupBy = "subject_id", aggregation = "lastNotNull", schema = "../../schemas/dev/subject.schema.json" }
    visit = { kind = "groupBy", groupBy = "visit_id", aggregation = "lastNotNull", schema = "../../schemas/dev/visit.schema.json" }
    observation = { kind = "groupBy", groupBy = "", aggregation = "lastNotNull", schema = "../../schemas/dev/observation.schema.json" }

  [adtl.defs."Y/N/NK".values]
    1 = true
    2 = false

  [adtl.defs.ethnicityMap.values]
    1 = "White"
    2 = "Arab"
    3 = "Black"
    4 = "East_Asian"
    5 = "South_Asian"
    6 = "West_Asian"
    7 = "Latin_American"

[adtl.defs.admissionDateHierarchy]
  combinedType = "firstNonNull"
  fields = [
    { field = "hostdat", description = "Admission date at this facility" },
    { field = "cestdat", description = "Onset date of first/earliest symptom" },
    { field = "dsstdat", description = "Date of enrolment" },
    { field = "daily_dsstdat", description = "Date of assessment" },
  ]

[adtl.defs.followupDateHierarchy]
  combinedType = "firstNonNull"
  fields = [
    { field = "flw_survey_date", description = "About you and your COVID-19 illness (if you're completing this survey on behalf of a child or adult that you care for, all the questions relate to their health and wellbeing)" },
    { field = "dsstdtc", description = "Outcome date", if = { dsterm = 4 } },
    { field = "dsstdtc_v2", description = "Outcome date", if = { dsterm_v2 = 4 } },
  ]

[adtl.defs.inabilityWalk.values]
  2 = "slight"
  3 = "moderate"
  4 = "severe"
  5 = "unable"

[adtl.defs.countryMap.values]
  1 = "AFG"
  2 = "ALB"
  3 = "DZA"
  4 = "AND"
  5 = "AGO"
  6 = "ATG"
  7 = "ARG"
  8 = "ARM"
  9 = "AUS"
  10 = "AUT"
  11 = "AZE"
  12 = "BHS"
  13 = "BHR"
  14 = "BGD"
  15 = "BRB"
  16 = "BLR"
  17 = "BEL"
  18 = "BLZ"
  19 = "BEN"
  20 = "BTN"
  21 = "BOL"
  22 = "BIH"
  23 = "BWA"
  24 = "BRA"
  25 = "BRN"
  26 = "BGR"
  27 = "BFA"
  28 = "BDI"
  29 = "KHM"
  30 = "CMR"
  31 = "CAN"
  32 = "CPV"
  33 = "CAF"
  34 = "TCD"
  35 = "CHL"
  36 = "CHN"
  37 = "COL"
  38 = "COM"
  39 = "COG"
  40 = "COD"
  41 = "CRI"
  42 = "HRV"
  43 = "CUB"
  44 = "CYP"
  45 = "CZE"
  46 = "DNK"
  47 = "DJI"
  48 = "DMA"
  49 = "DOM"
  50 = "TLS"
  51 = "ECU"
  52 = "EGY"
  53 = "SLV"
  54 = "GNQ"
  55 = "ERI"
  56 = "EST"
  57 = "ETH"
  58 = "FJI"
  59 = "FIN"
  60 = "FRA"
  61 = "GAB"
  62 = "GMB"
  63 = "GEO"
  64 = "DEU"
  65 = "GHA"
  66 = "GRC"
  67 = "GRD"
  68 = "GTM"
  69 = "GIN"
  70 = "GNB"
  71 = "GUY"
  72 = "HTI"
  73 = "HND"
  74 = "HUN"
  75 = "ISL"
  76 = "IND"
  77 = "IDN"
  78 = "IRN"
  79 = "IRQ"
  80 = "IRL"
  81 = "ISR"
  82 = "ITA"
  83 = "CIV"
  84 = "JAM"
  85 = "JPN"
  86 = "JOR"
  87 = "KAZ"
  88 = "KEN"
  89 = "KIR"
  90 = "PRK"
  91 = "KOR"
  92 = "XXK"
  93 = "KWT"
  94 = "KGZ"
  95 = "LAO"
  96 = "LVA"
  97 = "LBN"
  98 = "LSO"
  99 = "LBR"
  100 = "LBY"
  101 = "LIE"
  102 = "LTU"
  103 = "LUX"
  104 = "MKD"
  105 = "MDG"
  106 = "MWI"
  107 = "MYS"
  108 = "MDV"
  109 = "MLI"
  110 = "MLT"
  111 = "MHL"
  112 = "MRT"
  113 = "MUS"
  114 = "MEX"
  115 = "FSM"
  116 = "MDA"
  117 = "MCO"
  118 = "MNG"
  119 = "MNE"
  120 = "MAR"
  121 = "MOZ"
  122 = "MMR"
  123 = "NAM"
  124 = "NRU"
  125 = "NPL"
  126 = "NLD"
  127 = "NZL"
  128 = "NIC"
  129 = "NER"
  130 = "NGA"
  131 = "NOR"
  132 = "OMN"
  133 = "PAK"
  134 = "PLW"
  135 = "PAN"
  136 = "PNG"
  137 = "PRY"
  138 = "PER"
  139 = "PHL"
  140 = "POL"
  141 = "PRT"
  142 = "QAT"
  143 = "ROU"
  144 = "RUS"
  145 = "RWA"
  146 = "KNA"
  147 = "LCA"
  148 = "VCT"
  149 = "WSM"
  150 = "SMR"
  151 = "STP"
  152 = "SAU"
  153 = "SEN"
  154 = "SRB"
  155 = "SYC"
  156 = "SLE"
  157 = "SGP"
  158 = "SVK"
  159 = "SVN"
  160 = "SLB"
  161 = "SOM"
  162 = "ZAF"
  163 = "SSD"
  164 = "ESP"
  165 = "LKA"
  166 = "SDN"
  167 = "SUR"
  168 = "SWZ"
  169 = "SWE"
  170 = "CHE"
  171 = "SYR"
  172 = "TWN"
  173 = "TJK"
  174 = "TZA"
  175 = "THA"
  176 = "TGO"
  177 = "TON"
  178 = "TTO"
  179 = "TUN"
  180 = "TUR"
  181 = "TKM"
  182 = "TUV"
  183 = "UGA"
  184 = "UKR"
  185 = "ARE"
  186 = "GBR"
  187 = "USA"
  188 = "URY"
  189 = "UZB"
  190 = "VUT"
  191 = "VAT"
  192 = "VEN"
  193 = "VNM"
  194 = "YEM"
  195 = "ZMB"
  196 = "ZWE"

[study]
  country_iso3 = { field = "country", ref = "countryMap" }

  ## SUBJECT

[subject]
  country_iso3 = { field = "country", ref = "countryMap" }

  ## VISITS

[visit]
  country_iso3 = { field = "country", ref = "countryMap" }


[[observation]]
